<%- include('../partials/header') %>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-6">
                <img src="/images/items/<%=item.imageUrl%>" class="w-100 h-auto" id="uploaded_img"/>
            </div>
            <div class="col-6">
            <h2>Edit item</h2>
            <form action="/items/edit/<%=item._id%>?_method=PUT" method="POST" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="itemname">Item Name</label>
                    <input type="text" class="form-control" value="<%=item.itemname%>" id="itemname" name="itemname" placeholder="Blue trousers" required>
                </div>   
                <% if (item.deleted) { %>
                    <div class="form-group">
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" id="gridCheck" name="restore">
                          <label class="form-check-label" for="gridCheck">
                            Restore deleted item?
                          </label>
                        </div>
                    </div>
                <% } %>
                <div class="form-group">
                    <label for="description">Description</label>
                    <textarea class="form-control" id="description" name="description" placeholder="Made with jeans material" rows=3><%=item.description%></textarea>
                </div>
                <div class="row">
                    <div class="col">
                        <div class="form-group">
                            <label for="category">Category</label>
                            <select class="form-control" id="category" name="category" required>
                            <option value="none" disabled>Select category</option>
                            <option value="shirt">Shirt</option>
                            <option value="trousers">Trousers</option>
                            <option value="footwear">Footwear</option>
                            <option value="sunglasses">Sunglasses</option>
                            </select>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            <label for="price">Price</label>
                            <div class="input-group mb-2">
                            <div class="input-group-prepend">
                                <div class="input-group-text">$</div>
                            </div>
                            <input type="number" class="form-control" id="price" name="price" value="<%=item.price%>" min="1.0" step="0.01" placeholder="price" required>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col">
                        <label for="XL">XL</label>
                        <input type="number" class="form-control" id="XL" name="XL" value="<%=item.sizes.XL%>" min="1" max="200">
                    </div>
                    <div class="col">
                        <label for="XL">L</label>
                        <input type="number" class="form-control" id="L" name="L" value="<%=item.sizes.L%>" min="1" max="200">
                    </div>
                    <div class="col">
                        <label for="XL">M</label>
                        <input type="number" class="form-control" id="M" name="M" value="<%=item.sizes.M%>" min="1" max="200">
                    </div>
                    <div class="col">
                        <label for="XL">S</label>
                        <input type="number" class="form-control" id="S" name="S" value="<%=item.sizes.S%>" min="1" max="200">
                    </div>
                    <div class="col">
                        <label for="XL">XS</label>
                        <input type="number" class="form-control" id="XS" name="XS" value="<%=item.sizes.XS%>" min="1" max="200">
                    </div>
                </div>
                <div class="form-group mt-3">
                    <label for="item-image">Upload item image</label>
                    <input type="file" class="form-control-file" id="item-image" name="item-image" value="<%=item.imageUrl%>" accept="image/*">
                </div>
                <button type="submit" class="btn btn-primary">Save</button>
                <a class="btn btn-danger" href="/items/view/<%=item._id%>">Cancel</a>
            </form>
            </div>
        </div>
    </div>
    <script>
        var value="<%=item.category%>";
        if (value) {
            $('#category').val(value);
        }
    </script>
<%- include('../partials/footer') %>